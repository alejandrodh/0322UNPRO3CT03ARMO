{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport React, { Component } from 'react';\nimport { db, auth } from \"../../firebase/config\";\nimport firebase from 'firebase';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Comments = function (_Component) {\n  _inherits(Comments, _Component);\n\n  var _super = _createSuper(Comments);\n\n  function Comments(props) {\n    var _this;\n\n    _classCallCheck(this, Comments);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      comentarios: [],\n      nuevoComentario: ''\n    };\n    return _this;\n  }\n\n  _createClass(Comments, [{\n    key: \"onSubmit\",\n    value: function onSubmit(elComentario) {\n      var comment = {\n        owner: auth.currentUser.email,\n        createdAt: Date.now(),\n        description: elComentario\n      };\n\n      if (elComentario !== '') {\n        db.collection('messages').doc(id).update({\n          subMessages: firebase.firestore.FieldValue.arrayUnion(comment)\n        }).then().catch(function (error) {\n          return console.log(error);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return _jsxs(View, {\n        children: [_jsx(FlatList, {}), _jsxs(View, {\n          children: [_jsx(TextInput, {\n            placeholder: \"Agrega tu comentario\",\n            onChangeText: function onChangeText(text) {\n              return _this2.setState({\n                nuevoComentario: text\n              });\n            },\n            value: this.nuevoComentario,\n            keyboardType: \"default\"\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return _this2.onSubmit(_this2.state.nuevoComentario);\n            },\n            children: _jsx(Text, {\n              children: \"Enviar\"\n            })\n          })]\n        })]\n      });\n    }\n  }]);\n\n  return Comments;\n}(Component);\n\nexport default Comments;","map":{"version":3,"names":["React","Component","db","auth","firebase","Comments","props","state","comentarios","nuevoComentario","elComentario","comment","owner","currentUser","email","createdAt","Date","now","description","collection","doc","id","update","subMessages","firestore","FieldValue","arrayUnion","then","catch","error","console","log","text","setState","onSubmit"],"sources":["/home/carlos/Documents/develop/DH/0322UNPRO3CM02ARMO/clase-15-agregar_y_obtener_datos/src/screens/Comments/index.js"],"sourcesContent":["import { View, Text, FlatList, TouchableOpacity, TextInput } from 'react-native'\nimport React, {Component} from 'react'\nimport { db, auth } from '../../firebase/config'\nimport firebase from 'firebase'\n\nclass Comments extends Component {\n    constructor(props){\n        super(props)\n        this.state={\n            comentarios:[],\n            nuevoComentario:''\n        }\n    }\n\n    onSubmit(elComentario){\n        const comment ={\n            owner: auth.currentUser.email,\n            createdAt: Date.now(),\n            description: elComentario\n        }\n\n        if(elComentario !== ''){\n            db.collection('messages').doc(id).update({\n                subMessages:firebase.firestore.FieldValue.arrayUnion(comment)\n            })\n            .then()\n            .catch(error => console.log(error))\n        }\n\n    }\n    \n    render(){\n        return (\n          <View>\n            <FlatList />\n            <View>\n                <TextInput\n                placeholder='Agrega tu comentario'\n                onChangeText={(text) => this.setState({nuevoComentario : text})}\n                value={this.nuevoComentario}\n                keyboardType='default'\n                />\n                <TouchableOpacity onPress={()=> this.onSubmit(this.state.nuevoComentario)}>\n                    <Text>Enviar</Text>\n                </TouchableOpacity>\n            </View>\n          </View>\n        )\n    }\n}\n\nexport default Comments"],"mappings":";;;;;;;;;;;;;;;AACA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,EAAT,EAAaC,IAAb;AACA,OAAOC,QAAP,MAAqB,UAArB;;;;IAEMC,Q;;;;;EACF,kBAAYC,KAAZ,EAAkB;IAAA;;IAAA;;IACd,0BAAMA,KAAN;IACA,MAAKC,KAAL,GAAW;MACPC,WAAW,EAAC,EADL;MAEPC,eAAe,EAAC;IAFT,CAAX;IAFc;EAMjB;;;;WAED,kBAASC,YAAT,EAAsB;MAClB,IAAMC,OAAO,GAAE;QACXC,KAAK,EAAET,IAAI,CAACU,WAAL,CAAiBC,KADb;QAEXC,SAAS,EAAEC,IAAI,CAACC,GAAL,EAFA;QAGXC,WAAW,EAAER;MAHF,CAAf;;MAMA,IAAGA,YAAY,KAAK,EAApB,EAAuB;QACnBR,EAAE,CAACiB,UAAH,CAAc,UAAd,EAA0BC,GAA1B,CAA8BC,EAA9B,EAAkCC,MAAlC,CAAyC;UACrCC,WAAW,EAACnB,QAAQ,CAACoB,SAAT,CAAmBC,UAAnB,CAA8BC,UAA9B,CAAyCf,OAAzC;QADyB,CAAzC,EAGCgB,IAHD,GAICC,KAJD,CAIO,UAAAC,KAAK;UAAA,OAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ;QAAA,CAJZ;MAKH;IAEJ;;;WAED,kBAAQ;MAAA;;MACJ,OACE,MAAC,IAAD;QAAA,WACE,KAAC,QAAD,KADF,EAEE,MAAC,IAAD;UAAA,WACI,KAAC,SAAD;YACA,WAAW,EAAC,sBADZ;YAEA,YAAY,EAAE,sBAACG,IAAD;cAAA,OAAU,MAAI,CAACC,QAAL,CAAc;gBAACxB,eAAe,EAAGuB;cAAnB,CAAd,CAAV;YAAA,CAFd;YAGA,KAAK,EAAE,KAAKvB,eAHZ;YAIA,YAAY,EAAC;UAJb,EADJ,EAOI,KAAC,gBAAD;YAAkB,OAAO,EAAE;cAAA,OAAK,MAAI,CAACyB,QAAL,CAAc,MAAI,CAAC3B,KAAL,CAAWE,eAAzB,CAAL;YAAA,CAA3B;YAAA,UACI,KAAC,IAAD;cAAA;YAAA;UADJ,EAPJ;QAAA,EAFF;MAAA,EADF;IAgBH;;;;EA3CkBR,S;;AA8CvB,eAAeI,QAAf"},"metadata":{},"sourceType":"module"}